<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.wangfj.product.supplier.persistence.PcmSupplyInfoMapper">
    <resultMap type="com.wangfj.product.supplier.domain.vo.PcmSupInfoForSupDto" id="supInfoForSup">
        <id column="storeCode" property="storeCode" jdbcType="VARCHAR"/>
        <result column="storeName" property="storeName" jdbcType="VARCHAR"/>
        <collection property="supplyList" javaType="java.util.List" ofType="java.util.HashMap">
           <id column="supplyCode" property="supplyCode" jdbcType="VARCHAR"/>
           <result column="supplyName" property="supplyName" jdbcType="VARCHAR"/>
           <result column="operaterMode" property="operaterMode" jdbcType="VARCHAR"/>
           <result column="apartOrder" property="apartOrder" jdbcType="VARCHAR"/>
           <result column="supplyStatus" property="supplyStatus" jdbcType="VARCHAR"/>
           <result column="licenseNo" property="licenseNo" jdbcType="VARCHAR"/>
           <result column="taxNo" property="taxNo" jdbcType="VARCHAR"/>
           <result column="apartOrder" property="apartOrder" jdbcType="VARCHAR"/>
        </collection>
    </resultMap>
	<resultMap id="BaseResultMap"
		type="com.wangfj.product.supplier.domain.entity.PcmSupplyInfo">
		<id column="sid" property="sid" jdbcType="BIGINT" />
		<result column="supply_name" property="supplyName" jdbcType="VARCHAR" />
		<result column="postcode" property="postcode" jdbcType="VARCHAR" />
		<result column="city" property="city" jdbcType="VARCHAR" />
		<result column="country" property="country" jdbcType="VARCHAR" />
		<result column="zone" property="zone" jdbcType="VARCHAR" />
		<result column="shop_region" property="shopRegion" jdbcType="VARCHAR" />
		<result column="address" property="address" jdbcType="VARCHAR" />
		<result column="phone" property="phone" jdbcType="VARCHAR" />
		<result column="fax" property="fax" jdbcType="VARCHAR" />
		<result column="email" property="email" jdbcType="VARCHAR" />
		<result column="last_opt_user" property="lastOptUser" jdbcType="VARCHAR" />
		<result column="last_opt_date" property="lastOptDate" jdbcType="TIMESTAMP" />
		<result column="shop_sid" property="shopSid" jdbcType="VARCHAR" />
		<result column="supply_code" property="supplyCode" jdbcType="VARCHAR" />
		<result column="supply_type" property="supplyType" jdbcType="INTEGER" />
		<result column="status" property="status" jdbcType="VARCHAR" />
		<result column="short_name" property="shortName" jdbcType="VARCHAR" />
		<result column="business_pattern" property="businessPattern"
			jdbcType="INTEGER" />
		<result column="street" property="street" jdbcType="VARCHAR" />
		<result column="org_code" property="orgCode" jdbcType="VARCHAR" />
		<result column="industry" property="industry" jdbcType="VARCHAR" />
		<result column="biz_certificate_no" property="bizCertificateNo"
			jdbcType="VARCHAR" />
		<result column="tax_type" property="taxType" jdbcType="VARCHAR" />
		<result column="tax_numbe" property="taxNumbe" jdbcType="VARCHAR" />
		<result column="bank" property="bank" jdbcType="VARCHAR" />
		<result column="bank_no" property="bankNo" jdbcType="VARCHAR" />
		<result column="registered_capital" property="registeredCapital"
			jdbcType="VARCHAR" />
		<result column="enterprise_property" property="enterpriseProperty"
			jdbcType="VARCHAR" />
		<result column="business_category" property="businessCategory"
			jdbcType="VARCHAR" />
		<result column="legal_person" property="legalPerson" jdbcType="VARCHAR" />
		<result column="legal_person_ic_code" property="legalPersonIcCode"
			jdbcType="VARCHAR" />
		<result column="legal_person_contact" property="legalPersonContact"
			jdbcType="VARCHAR" />
		<result column="agent" property="agent" jdbcType="VARCHAR" />
		<result column="agent_ic_code" property="agentIcCode" jdbcType="VARCHAR" />
		<result column="agent_contact" property="agentContact"
			jdbcType="VARCHAR" />
		<result column="contact" property="contact" jdbcType="VARCHAR" />
		<result column="contact_title" property="contactTitle"
			jdbcType="VARCHAR" />
		<result column="contact_ic_code" property="contactIcCode"
			jdbcType="VARCHAR" />
		<result column="contact_way" property="contactWay" jdbcType="VARCHAR" />
		<result column="business_scope" property="businessScope"
			jdbcType="VARCHAR" />
		<result column="key_supplier" property="keySupplier" jdbcType="INTEGER" />
		<result column="tax_rate" property="taxRate" jdbcType="DECIMAL" />
		<result column="in_out_city" property="inOutCity" jdbcType="VARCHAR" />
		<result column="admission_date" property="admissionDate"
			jdbcType="VARCHAR" />
		<result column="return_supply" property="returnSupply"
			jdbcType="INTEGER" />
		<result column="join_site" property="joinSite" jdbcType="VARCHAR" />
		<result column="apart_order" property="apartOrder" jdbcType="INTEGER" />
		<result column="dropship" property="dropship" jdbcType="INTEGER" />
		<result column="erp_supplier_code" property="erpSupplierCode"
			jdbcType="VARCHAR" />
		<result column="zly_flag" property="zlyFlag" jdbcType="VARCHAR" />
		<result column="zzxxhc_flag" property="zzxxhcFlag" jdbcType="VARCHAR" />
		<result column="field1" property="field1" jdbcType="VARCHAR" />
		<result column="field2" property="field2" jdbcType="VARCHAR" />
		<result column="field3" property="field3" jdbcType="VARCHAR" />
	</resultMap>
	<sql id="Base_Column_List">
		sid, supply_name, postcode, city, country, zone,
		shop_region, address,
		phone, fax,
		email, last_opt_user, last_opt_date,
		shop_sid, supply_code, supply_type,
		status,
		short_name,
		business_pattern, street, org_code, industry, biz_certificate_no,
		tax_type,
		tax_numbe, bank, bank_no, registered_capital,
		enterprise_property,
		business_category,
		legal_person,
		legal_person_ic_code, legal_person_contact, agent, agent_ic_code,
		agent_contact,
		contact, contact_title, contact_ic_code, contact_way,
		business_scope,
		key_supplier,
		tax_rate, in_out_city, admission_date,
		return_supply, join_site, apart_order,
		dropship,
		erp_supplier_code,
		zly_flag, zzxxhc_flag, field1, field2, field3
	</sql>
	<select id="selectByPrimaryKey" resultMap="BaseResultMap"
		parameterType="java.lang.Long">
		select
		<include refid="Base_Column_List" />
		from pcm_supply_info
		where sid = #{sid,jdbcType=BIGINT}
	</select>
	<select id="selectBySupply" resultType="java.util.HashMap"
		parameterType="java.util.Map">
		SELECT
		s.supply_code supplyCode,
		s.supply_type
		supplyType,
		s.supply_name
		supplyName,
		s.shop_sid shopSid,
		s.business_pattern
		businessPattern,
		s.`status` STATUS,
		s.admission_date
		admissionDate,
		s.return_supply
		returnSupply,
		s.join_site joinSite
		FROM
		pcm_supply_info s;
	</select>
	<select id="selectListByParam" resultMap="BaseResultMap"
		parameterType="java.util.Map">
		select
		<include refid="Base_Column_List" />
		from pcm_supply_info
		<where>
			<if test="sid!=null">
				and sid = #{sid,jdbcType=BIGINT}
			</if>
			<if test="supplyName!=null">
				and supply_name = #{supplyName,jdbcType=VARCHAR}
			</if>
			<if test="postcode!=null">
				and postcode = #{postcode,jdbcType=VARCHAR}
			</if>
			<if test="city!=null">
				and city=#{city,jdbcType=VARCHAR}
			</if>
			<if test="country!=null">
				and country=#{country,jdbcType=VARCHAR}
			</if>
			<if test="zone!=null">
				and zone=#{zone,jdbcType=VARCHAR}
			</if>
			<if test="shopRegion != null">
				and shop_region=#{shopRegion,jdbcType=VARCHAR}
			</if>
			<if test="address != null">
				and address=#{address,jdbcType=VARCHAR}
			</if>
			<if test="phone != null">
				and phone={#phone,jdbcType=VARCHAR}
			</if>
			<if test="fax != null">
				and fax=#{fax,jdbcType=VARCHAR}
			</if>
			<if test="email != null">
				and email=#{email,jdbcType=VARCHAR}
			</if>
			<if test="lastOptUser !=null">
				and last_opt_user=#{lastOptUser,jdbcType=VARCHAR}
			</if>
			<if test="lastOptDate != null">
				and last_opt_date=#{lastOptDate,jdbcType=TIMESTAMP}
			</if>
			<if test="shopSid != null">
				and shop_sid=#{shopSid,jdbcType=VARCHAR}
			</if>
			<if test="supplyCode != null">
				and supply_code=#{supplyCode,jdbcType=VARCHAR}
			</if>
			<if test="supplyType != null">
				and supply_type=#{supplyType,jdbcType=INTEGER}
			</if>
			<if test="status != null">
				and status=#{status,jdbcType=VARCHAR}
			</if>
			<if test="shortName != null">
				and short_name=#{shortName,jdbcType=VARCHAR}
			</if>
			<if test="businessPattern != null">
				and business_pattern=#{businessPattern,jdbcType=INTEGER}
			</if>
			<if test="street != null">
				and street=#{street,jdbcType=VARCHAR}
			</if>
			<if test="orgCode != null">
				and org_code=#{orgCode,jdbcType=VARCHAR}
			</if>
			<if test="industry != null">
				and industry=#{industry,jdbcType=VARCHAR}
			</if>
			<if test="bizCertificateNo != null">
				and
				biz_certificate_no=#{bizCertificateNo,jdbcType=VARCHAR}
			</if>
			<if test="taxType !=null">
				and tax_type=#{taxType,jdbcType=VARCHAR}
			</if>
			<if test="taxNumbe != null">
				and tax_numbe=#{taxNumbe,jdbcType=VARCHAR}
			</if>
			<if test="bank != null">
				and bank=#{bank,jdbcType=VARCHAR}
			</if>
			<if test="bankNo != null">
				and bank_no=#{bankNo,jdbcType=VARCHAR}
			</if>
			<if test="registeredCapital != null">
				and
				registered_capital=#{registeredCapital,jdbcType=VARCHAR}
			</if>
			<if test="enterpriseProperty != null">
				and
				enterprise_property=#{enterpriseProperty,jdbcType=VARCHAR}
			</if>
			<if test="businessCategory != null">
				and
				business_category=#{businessCategory,jdbcType=VARCHAR}
			</if>
			<if test="legalPerson != null">
				and legal_person=#{legalPerson,jdbcType=VARCHAR}
			</if>
			<if test="legalPersonIcCode != null">
				and
				legal_person_ic_code=#{legalPersonIcCode,jdbcType=VARCHAR}
			</if>
			<if test="legalPersonContact != null">
				and
				legal_person_contact=#{legalPersonContact,jdbcType=VARCHAR}
			</if>
			<if test="agent != null">
				and agent=#{agent,jdbcType=VARCHAR}
			</if>
			<if test="agentIcCode != null">
				and agent_ic_code=#{agentIcCode,jdbcType=VARCHAR}
			</if>
			<if test="agentContact != null">
				and agent_contact=#{agentContact,jdbcType=VARCHAR}
			</if>
			<if test="contact!=null">
				and contact=#{contact,jdbcType=VARCHAR}
			</if>
			<if test="contactTitle != null">
				and contact_title=#{contactTitle,jdbcType=VARCHAR}
			</if>
			<if test="contactIcCode != null">
				and contact_ic_code=#{contactIcCode,jdbcType=VARCHAR}
			</if>
			<if test="contactWay != null">
				and contact_way=#{contactWay,jdbcType=VARCHAR}
			</if>
			<if test="businessScope != null">
				and business_scope=#{businessScope,jdbcType=VARCHAR}
			</if>
			<if test="keySupplier != null">
				and key_supplier=#{keySupplier,jdbcType=INTEGER}
			</if>
			<if test="taxRate != null">
				and tax_rate=#{taxRate,jdbcType=DECIMAL}
			</if>
			<if test="inOutCity != null">
				and in_out_city=#{inOutCity,jdbcType=VARCHAR}
			</if>
			<if test="admissionDate != null">
				and admission_date=#{admissionDate,jdbcType=VARCHAR}
			</if>
			<if test="returnSupply != null">
				and return_supply=#{returnSupply,jdbcType=INTEGER}
			</if>
			<if test="joinSite != null">
				and join_site=#{joinSite,jdbcType=VARCHAR}
			</if>
			<if test="apartOrder != null">
				and apart_order=#{apartOrder,jdbcType=INTEGER}
			</if>
			<if test="dropship != null">
				and dropship=#{dropship,jdbcType=INTEGER}
			</if>
			<if test="erpSupplierCode != null">
				and erp_supplier_code=#{erpSupplierCode,jdbcType=VARCHAR}
			</if>
			<if test="zlyFlag != null">
				and zly_flag = #{zlyFlag,jdbcType=VARCHAR}
			</if>
			<if test="zzxxhcFlag != null">
				and zzxxhc_flag=#{zzxxhcFlag,jdbcType=VARCHAR}
			</if>
			<if test="field1 != null">
				and field1=#{field1,jdbcType=VARCHAR}
			</if>
			<if test="field2 != null">
				and field2=#{field2,jdbcType=VARCHAR}
			</if>
			<if test="field3 != null">
				and field3=#{field3,jdbcType=VARCHAR}
			</if>
		</where>
	</select>

	<!-- selectListByParamFuzzy多条件查询(模糊) wangxuan -->
	<select id="selectListByParamFuzzy" resultMap="BaseResultMap"
		parameterType="java.util.Map">
		select
		<include refid="Base_Column_List" />
		from pcm_supply_info
		<where>
			<if test="sid != null">
				and sid = #{sid}
			</if>
			<if test="supplyName != null">
				and supply_name like "%"#{supplyName}"%"
			</if>
			<if test="shopSid != null">
				and shop_sid=#{shopSid}
			</if>
			<if test="supplyCode != null">
				and supply_code=#{supplyCode}
			</if>
			<if test="supplyType != null">
				and supply_type=#{supplyType}
			</if>
			<if test="status != null">
				and status=#{status}
			</if>
			<if test="shortName != null">
				and short_name like "%"#{shortName}"%"
			</if>
			<if test="orgCode != null">
				and org_code=#{orgCode}
			</if>
			<if test="bizCertificateNo != null">
				and
				biz_certificate_no=#{bizCertificateNo}
			</if>
			<if test="keySupplier != null">
				and key_supplier=#{keySupplier}
			</if>
			<if test="returnSupply != null">
				and return_supply=#{returnSupply}
			</if>
			<if test="apartOrder != null">
				and apart_order=#{apartOrder}
			</if>
			<if test="dropship != null">
				and dropship=#{dropship}
			</if>
			<if test="erpSupplierCode != null">
				and erp_supplier_code=#{erpSupplierCode}
			</if>
		</where>
		ORDER BY
		CONVERT(supply_name USING gbk)
		<if test="start != null and  limit != null">
			limit #{start}, #{limit}
		</if>
	</select>

	<!-- 分页查询 -->
	<select id="selectPageListByParam" resultMap="BaseResultMap"
		parameterType="java.util.Map">
		select
		<include refid="Base_Column_List" />
		from pcm_supply_info
		<where>
			<if test="sid!=null">
				and sid = #{sid,jdbcType=BIGINT}
			</if>
			<if test="supplyName!=null">
				and supply_name = #{supplyName,jdbcType=VARCHAR}
			</if>
			<if test="postcode!=null">
				and postcode = #{postcode,jdbcType=VARCHAR}
			</if>
			<if test="city!=null">
				and city=#{city,jdbcType=VARCHAR}
			</if>
			<if test="country!=null">
				and country=#{country,jdbcType=VARCHAR}
			</if>
			<if test="zone!=null">
				and zone=#{zone,jdbcType=VARCHAR}
			</if>
			<if test="shopRegion != null">
				and shop_region=#{shopRegion,jdbcType=VARCHAR}
			</if>
			<if test="address != null">
				and address=#{address,jdbcType=VARCHAR}
			</if>
			<if test="phone != null">
				and phone={#phone,jdbcType=VARCHAR}
			</if>
			<if test="fax != null">
				and fax=#{fax,jdbcType=VARCHAR}
			</if>
			<if test="email != null">
				and email=#{email,jdbcType=VARCHAR}
			</if>
			<if test="lastOptUser !=null">
				and last_opt_user=#{lastOptUser,jdbcType=VARCHAR}
			</if>
			<if test="lastOptDate != null">
				and last_opt_date=#{lastOptDate,jdbcType=TIMESTAMP}
			</if>
			<if test="shopSid != null">
				and shop_sid=#{shopSid,jdbcType=VARCHAR}
			</if>
			<if test="supplyCode != null">
				and supply_code=#{supplyCode,jdbcType=VARCHAR}
			</if>
			<if test="supplyType != null">
				and supply_type=#{supplyType,jdbcType=INTEGER}
			</if>
			<if test="status != null">
				and status=#{status,jdbcType=VARCHAR}
			</if>
			<if test="shortName != null">
				and short_name=#{shortName,jdbcType=VARCHAR}
			</if>
			<if test="businessPattern != null">
				and business_pattern=#{businessPattern,jdbcType=INTEGER}
			</if>
			<if test="street != null">
				and street=#{street,jdbcType=VARCHAR}
			</if>
			<if test="orgCode != null">
				and org_code=#{orgCode,jdbcType=VARCHAR}
			</if>
			<if test="industry != null">
				and industry=#{industry,jdbcType=VARCHAR}
			</if>
			<if test="bizCertificateNo != null">
				and
				biz_certificate_no=#{bizCertificateNo,jdbcType=VARCHAR}
			</if>
			<if test="taxType !=null">
				and tax_type=#{taxType,jdbcType=VARCHAR}
			</if>
			<if test="taxNumbe != null">
				and tax_numbe=#{taxNumbe,jdbcType=VARCHAR}
			</if>
			<if test="bank != null">
				and bank=#{bank,jdbcType=VARCHAR}
			</if>
			<if test="bankNo != null">
				and bank_no=#{bankNo,jdbcType=VARCHAR}
			</if>
			<if test="registeredCapital != null">
				and
				registered_capital=#{registeredCapital,jdbcType=VARCHAR}
			</if>
			<if test="enterpriseProperty != null">
				and
				enterprise_property=#{enterpriseProperty,jdbcType=VARCHAR}
			</if>
			<if test="businessCategory != null">
				and
				business_category=#{businessCategory,jdbcType=VARCHAR}
			</if>
			<if test="legalPerson != null">
				and legal_person=#{legalPerson,jdbcType=VARCHAR}
			</if>
			<if test="legalPersonIcCode != null">
				and
				legal_person_ic_code=#{legalPersonIcCode,jdbcType=VARCHAR}
			</if>
			<if test="legalPersonContact != null">
				and
				legal_person_contact=#{legalPersonContact,jdbcType=VARCHAR}
			</if>
			<if test="agent != null">
				and agent=#{agent,jdbcType=VARCHAR}
			</if>
			<if test="agentIcCode != null">
				and agent_ic_code=#{agentIcCode,jdbcType=VARCHAR}
			</if>
			<if test="agentContact != null">
				and agent_contact=#{agentContact,jdbcType=VARCHAR}
			</if>
			<if test="contact!=null">
				and contact=#{contact,jdbcType=VARCHAR}
			</if>
			<if test="contactTitle != null">
				and contact_title=#{contactTitle,jdbcType=VARCHAR}
			</if>
			<if test="contactIcCode != null">
				and contact_ic_code=#{contactIcCode,jdbcType=VARCHAR}
			</if>
			<if test="contactWay != null">
				and contact_way=#{contactWay,jdbcType=VARCHAR}
			</if>
			<if test="businessScope != null">
				and business_scope=#{businessScope,jdbcType=VARCHAR}
			</if>
			<if test="keySupplier != null">
				and key_supplier=#{keySupplier,jdbcType=INTEGER}
			</if>
			<if test="taxRate != null">
				and tax_rate=#{taxRate,jdbcType=DECIMAL}
			</if>
			<if test="inOutCity != null">
				and in_out_city=#{inOutCity,jdbcType=VARCHAR}
			</if>
			<if test="admissionDate != null">
				and admission_date=#{admissionDate,jdbcType=VARCHAR}
			</if>
			<if test="returnSupply != null">
				and return_supply=#{returnSupply,jdbcType=INTEGER}
			</if>
			<if test="joinSite != null">
				and join_site=#{joinSite,jdbcType=VARCHAR}
			</if>
			<if test="apartOrder != null">
				and apart_order=#{apartOrder,jdbcType=INTEGER}
			</if>
			<if test="dropship != null">
				and dropship=#{dropship,jdbcType=INTEGER}
			</if>
			<if test="erpSupplierCode != null">
				and erp_supplier_code=#{erpSupplierCode,jdbcType=VARCHAR}
			</if>
			<if test="zlyFlag != null">
				and zly_flag = #{zlyFlag,jdbcType=VARCHAR}
			</if>
			<if test="zzxxhcFlag != null">
				and zzxxhc_flag=#{zzxxhcFlag,jdbcType=VARCHAR}
			</if>
			<if test="field1 != null">
				and field1=#{field1,jdbcType=VARCHAR}
			</if>
			<if test="field2 != null">
				and field2=#{field2,jdbcType=VARCHAR}
			</if>
			<if test="field3 != null">
				and field3=#{field3,jdbcType=VARCHAR}
			</if>
		</where>
		order by
		sid asc
		<if test="start != null and  limit != null">
			limit #{start}, #{limit}
		</if>
	</select>

	<!-- 查询数量 -->
	<select id="getCountByParam" resultType="java.lang.Integer"
		parameterType="java.util.Map">
		select
		count(*)
		from pcm_supply_info
		<where>
			<if test="sid != null">
				and sid = #{sid,jdbcType=BIGINT}
			</if>
			<if test="supplyName != null">
				and supply_name = #{supplyName,jdbcType=VARCHAR}
			</if>
			<if test="postcode != null">
				and postcode = #{postcode,jdbcType=VARCHAR}
			</if>
			<if test="city != null">
				and city=#{city,jdbcType=VARCHAR}
			</if>
			<if test="country != null">
				and country=#{country,jdbcType=VARCHAR}
			</if>
			<if test="zone != null">
				and zone=#{zone,jdbcType=VARCHAR}
			</if>
			<if test="shopRegion != null">
				and shop_region=#{shopRegion,jdbcType=VARCHAR}
			</if>
			<if test="address != null">
				and address=#{address,jdbcType=VARCHAR}
			</if>
			<if test="phone != null">
				and phone={#phone,jdbcType=VARCHAR}
			</if>
			<if test="fax != null">
				and fax=#{fax,jdbcType=VARCHAR}
			</if>
			<if test="email != null">
				and email=#{email,jdbcType=VARCHAR}
			</if>
			<if test="lastOptUser !=null">
				and last_opt_user=#{lastOptUser,jdbcType=VARCHAR}
			</if>
			<if test="lastOptDate != null">
				and last_opt_date=#{lastOptDate,jdbcType=TIMESTAMP}
			</if>
			<if test="shopSid != null">
				and shop_sid=#{shopSid,jdbcType=VARCHAR}
			</if>
			<if test="supplyCode != null">
				and supply_code=#{supplyCode,jdbcType=VARCHAR}
			</if>
			<if test="supplyType != null">
				and supply_type=#{supplyType,jdbcType=VARCHAR}
			</if>
			<if test="status != null">
				and status=#{status,jdbcType=VARCHAR}
			</if>
			<if test="shortName != null">
				and short_name=#{shortName,jdbcType=VARCHAR}
			</if>
			<if test="businessPattern != null">
				and business_pattern=#{businessPattern,jdbcType=INTEGER}
			</if>
			<if test="street != null">
				and street=#{street,jdbcType=VARCHAR}
			</if>
			<if test="orgCode != null">
				and org_code=#{orgCode,jdbcType=VARCHAR}
			</if>
			<if test="industry != null">
				and industry=#{industry,jdbcType=VARCHAR}
			</if>
			<if test="bizCertificateNo != null">
				and
				biz_certificate_no=#{bizCertificateNo,jdbcType=VARCHAR}
			</if>
			<if test="taxType !=null">
				and tax_type=#{taxType,jdbcType=VARCHAR}
			</if>
			<if test="taxNumbe != null">
				and tax_numbe=#{taxNumbe,jdbcType=VARCHAR}
			</if>
			<if test="bank != null">
				and bank=#{bank,jdbcType=VARCHAR}
			</if>
			<if test="bankNo != null">
				and bank_no=#{bankNo,jdbcType=VARCHAR}
			</if>
			<if test="registeredCapital != null">
				and
				registered_capital=#{registeredCapital,jdbcType=VARCHAR}
			</if>
			<if test="enterpriseProperty != null">
				and
				enterprise_property=#{enterpriseProperty,jdbcType=VARCHAR}
			</if>
			<if test="businessCategory != null">
				and
				business_category=#{businessCategory,jdbcType=VARCHAR}
			</if>
			<if test="legalPerson != null">
				and legal_person=#{legalPerson,jdbcType=VARCHAR}
			</if>
			<if test="legalPersonIcCode != null">
				and
				legal_person_ic_code=#{legalPersonIcCode,jdbcType=VARCHAR}
			</if>
			<if test="legalPersonContact != null">
				and
				legal_person_contact=#{legalPersonContact,jdbcType=VARCHAR}
			</if>
			<if test="agent != null">
				and agent=#{agent,jdbcType=VARCHAR}
			</if>
			<if test="agentIcCode != null">
				and agent_ic_code=#{agentIcCode,jdbcType=VARCHAR}
			</if>
			<if test="agentContact != null">
				and agent_contact=#{agentContact,jdbcType=VARCHAR}
			</if>
			<if test="contact!=null">
				and contact=#{contact,jdbcType=VARCHAR}
			</if>
			<if test="contactTitle != null">
				and contact_title=#{contactTitle,jdbcType=VARCHAR}
			</if>
			<if test="contactIcCode != null">
				and contact_ic_code=#{contactIcCode,jdbcType=VARCHAR}
			</if>
			<if test="contactWay != null">
				and contact_way=#{contactWay,jdbcType=VARCHAR}
			</if>
			<if test="businessScope != null">
				and business_scope=#{businessScope,jdbcType=VARCHAR}
			</if>
			<if test="keySupplier != null">
				and key_supplier=#{keySupplier,jdbcType=INTEGER}
			</if>
			<if test="taxRate != null">
				and tax_rate=#{taxRate,jdbcType=DECIMAL}
			</if>
			<if test="inOutCity != null">
				and in_out_city=#{inOutCity,jdbcType=VARCHAR}
			</if>
			<if test="admissionDate != null">
				and admission_date=#{admissionDate,jdbcType=VARCHAR}
			</if>
			<if test="returnSupply != null">
				and return_supply=#{returnSupply,jdbcType=INTEGER}
			</if>
			<if test="joinSite != null">
				and join_site=#{joinSite,jdbcType=VARCHAR}
			</if>
			<if test="apartOrder != null">
				and apart_order=#{apartOrder,jdbcType=INTEGER}
			</if>
			<if test="dropship != null">
				and dropship=#{dropship,jdbcType=INTEGER}
			</if>
			<if test="erpSupplierCode != null">
				and erp_supplier_code=#{erpSupplierCode,jdbcType=VARCHAR}
			</if>
			<if test="zlyFlag != null">
				and zly_flag = #{zlyFlag,jdbcType=VARCHAR}
			</if>
			<if test="zzxxhcFlag != null">
				and zzxxhc_flag=#{zzxxhcFlag,jdbcType=VARCHAR}
			</if>
			<if test="field1 != null">
				and field1=#{field1,jdbcType=VARCHAR}
			</if>
			<if test="field2 != null">
				and field2=#{field2,jdbcType=VARCHAR}
			</if>
			<if test="field3 != null">
				and field3=#{field3,jdbcType=VARCHAR}
			</if>
		</where>
	</select>

	<!-- 分页查询(模糊) wangxuan -->
	<select id="selectPageByPara" resultMap="BaseResultMap"
		parameterType="java.util.Map">
		select
		<include refid="Base_Column_List" />
		from pcm_supply_info
		<where>
			<if test="sid != null">
				and sid = #{sid}
			</if>
			<if test="supplyName != null">
				and ( supply_name like
				"%"#{supplyName,jdbcType=VARCHAR}"%"
				or short_name like
				"%"#{supplyName,jdbcType=VARCHAR}"%" )
			</if>
			<if test="shopSid != null">
				and shop_sid=#{shopSid,jdbcType=VARCHAR}
			</if>
			<if test="supplyCode != null">
				and supply_code=#{supplyCode,jdbcType=VARCHAR}
			</if>
			<if test="supplyType != null">
				and supply_type=#{supplyType}
			</if>
			<if test="status != null">
				and status=#{status,jdbcType=VARCHAR}
			</if>
            <if test="businessPattern != null">
                and business_pattern = #{businessPattern}
            </if>
            <if test="apartOrder != null">
                and apart_order=#{apartOrder}
            </if>
			<if test="orgCode != null">
				and org_code=#{orgCode,jdbcType=VARCHAR}
			</if>
			<if test="bizCertificateNo != null">
				and
				biz_certificate_no=#{bizCertificateNo,jdbcType=VARCHAR}
			</if>
			<if test="keySupplier != null">
				and key_supplier=#{keySupplier}
			</if>
		</where>
		order by
		sid desc
		<if test="start != null and  limit != null">
			limit #{start}, #{limit}
		</if>
	</select>

	<!-- 分页查询总数量(模糊) wangxuan -->
	<select id="getPageCountByPara" resultType="java.lang.Integer"
		parameterType="java.util.Map">
		select
		count(*)
		from pcm_supply_info
		<where>
			<if test="sid != null">
				and sid = #{sid}
			</if>
			<if test="supplyName != null">
				and ( supply_name like
				"%"#{supplyName,jdbcType=VARCHAR}"%"
				or short_name like
				"%"#{supplyName,jdbcType=VARCHAR}"%" )
			</if>
			<if test="shopSid != null">
				and shop_sid=#{shopSid,jdbcType=VARCHAR}
			</if>
			<if test="supplyCode != null">
				and supply_code=#{supplyCode,jdbcType=VARCHAR}
			</if>
			<if test="supplyType != null">
				and supply_type=#{supplyType}
			</if>
			<if test="status != null">
				and status=#{status,jdbcType=VARCHAR}
			</if>
            <if test="businessPattern != null">
                and business_pattern = #{businessPattern}
            </if>
            <if test="apartOrder != null">
                and apart_order=#{apartOrder}
            </if>
			<if test="orgCode != null">
				and org_code=#{orgCode,jdbcType=VARCHAR}
			</if>
			<if test="bizCertificateNo != null">
				and
				biz_certificate_no=#{bizCertificateNo,jdbcType=VARCHAR}
			</if>
			<if test="keySupplier != null">
				and key_supplier=#{keySupplier}
			</if>
		</where>
	</select>


	<!-- 模糊查询 -->
	<select id="indistinctSelect" resultMap="BaseResultMap"
		parameterType="java.util.Map">
		select
		<include refid="Base_Column_List" />
		from
		pcm_supply_info
		<where>
			1=1
			<if test="supplyName != null">
				and supply_name like "%"#{supplyName,jdbcType=VARCHAR}"%"
			</if>
			<if test="shopSid != null">
				and shop_sid = #{shopSid,jdbcType=VARCHAR}
			</if>
			<if test="supplyCode != null">
				and supply_code like "%"#{supplyCode,jdbcType=VARCHAR}"%"
			</if>
			<if test="bizCertificateNo != null">
				and biz_certificate_no like
				"%"#{bizCertificateNo,jdbcType=VARCHAR}"%"
			</if>
		</where>
		order by
		supply_code asc
		<if test="start != null and limit != null">
			limit #{start}, #{limit}
		</if>
	</select>
	<!-- 供应商下发 -->
	<select id="selectBySupplys" resultType="java.util.HashMap"
		parameterType="java.util.Map">
		SELECT
		supply_code supplyCode,
		supply_type supplierLevel,
		supply_name
		supplierName,
		shop_sid storeCode,
		business_pattern operateMode,
		status
		operateStatus,
		admission_date approvalDate,
		return_supply returnSupply,
		join_site joinSite
		FROM
		pcm_supply_info
		<where>
			1=1
			<if test="supplyCode != null">
				and supply_code = #{supplyCode,jdbcType=VARCHAR}
			</if>
			<if test="supplierLevel != null">
				and supply_type = #{supplierLevel,jdbcType=INTEGER}
			</if>
			<if test="supplierName != null">
				and supply_name = #{supplierName,jdbcType=VARCHAR}
			</if>
			<if test="storeCode != null">
				and shop_sid = #{storeCode,jdbcType=VARCHAR}
			</if>
			<if test="operateMode != null">
				and business_pattern = #{operateMode,jdbcType=INTEGER}
			</if>
			<if test="operateStatus != null">
				and status = #{operateStatus,jdbcType=VARCHAR}
			</if>
			<if test="approvalDate != null">
				and admission_date = #{approvalDate,jdbcType=VARCHAR}
			</if>
			<if test="returnSupply != null">
				and return_supply = #{returnSupply,jdbcType=INTEGER}
			</if>
			<if test="joinSite != null">
				and join_site = #{joinSite,jdbcType=VARCHAR}
			</if>
		</where>
		order by
		supply_code asc
		<if test="limit != null">
			limit #{start}, #{limit}
		</if>
	</select>

	<select id="selectCountBySupply" resultType="java.lang.Integer"
		parameterType="java.util.Map">
		SELECT
		COUNT(*)
		FROM
		pcm_supply_info
		<where>
			1=1
			<if test="supplyCode != null">
				and supply_code = #{supplyCode,jdbcType=VARCHAR}
			</if>
			<if test="supplierLevel != null">
				and supply_type = #{supplierLevel,jdbcType=INTEGER}
			</if>
			<if test="supplierName != null">
				and supply_name = #{supplierName,jdbcType=VARCHAR}
			</if>
			<if test="storeCode != null">
				and shop_sid = #{storeCode,jdbcType=VARCHAR}
			</if>
			<if test="operateMode != null">
				and business_pattern = #{operateMode,jdbcType=INTEGER}
			</if>
			<if test="operateStatus != null">
				and status = #{operateStatus,jdbcType=VARCHAR}
			</if>
			<if test="approvalDate != null">
				and admission_date = #{approvalDate,jdbcType=VARCHAR}
			</if>
			<if test="returnSupply != null">
				and return_supply = #{returnSupply,jdbcType=INTEGER}
			</if>
			<if test="joinSite != null">
				and join_site = #{joinSite,jdbcType=VARCHAR}
			</if>
			<if test="taxNumbe != null">
				and tax_numbe=#{taxNumbe,jdbcType=VARCHAR}
			</if>
		</where>
	</select>
	<delete id="deleteByPrimaryKey" parameterType="java.lang.Long">
		delete from
		pcm_supply_info
		where sid = #{sid,jdbcType=BIGINT}
	</delete>
	<insert id="insert"
		parameterType="com.wangfj.product.supplier.domain.entity.PcmSupplyInfo">
		insert into pcm_supply_info (sid, supply_name, postcode,
		city, country, zone,
		shop_region, address, phone,
		fax, email,
		last_opt_user,
		last_opt_date, shop_sid, supply_code,
		supply_type,
		status, short_name,
		business_pattern, street, org_code,
		industry,
		biz_certificate_no, tax_type,
		tax_numbe, bank, bank_no,
		registered_capital, enterprise_property,
		business_category,
		legal_person, legal_person_ic_code,
		legal_person_contact, agent,
		agent_ic_code,
		agent_contact, contact, contact_title,
		contact_ic_code,
		contact_way, business_scope,
		key_supplier, tax_rate, in_out_city,
		admission_date, return_supply, join_site,
		apart_order, dropship)
		values
		(#{sid,jdbcType=BIGINT}, #{supplyName,jdbcType=VARCHAR},
		#{postcode,jdbcType=VARCHAR},
		#{city,jdbcType=VARCHAR},
		#{country,jdbcType=VARCHAR}, #{zone,jdbcType=VARCHAR},
		#{shopRegion,jdbcType=VARCHAR}, #{address,jdbcType=VARCHAR},
		#{phone,jdbcType=VARCHAR},
		#{fax,jdbcType=VARCHAR},
		#{email,jdbcType=VARCHAR}, #{lastOptUser,jdbcType=VARCHAR},
		#{lastOptDate,jdbcType=TIMESTAMP}, #{shopSid,jdbcType=VARCHAR},
		#{supplyCode,jdbcType=VARCHAR},
		#{supplyType,jdbcType=INTEGER},
		#{status,jdbcType=VARCHAR}, #{shortName,jdbcType=VARCHAR},
		#{businessPattern,jdbcType=INTEGER}, #{street,jdbcType=VARCHAR},
		#{orgCode,jdbcType=VARCHAR},
		#{industry,jdbcType=VARCHAR},
		#{bizCertificateNo,jdbcType=VARCHAR}, #{taxType,jdbcType=VARCHAR},
		#{taxNumbe,jdbcType=VARCHAR}, #{bank,jdbcType=VARCHAR},
		#{bankNo,jdbcType=VARCHAR},
		#{registeredCapital,jdbcType=VARCHAR},
		#{enterpriseProperty,jdbcType=VARCHAR},
		#{businessCategory,jdbcType=VARCHAR}, #{legalPerson,jdbcType=VARCHAR},
		#{legalPersonIcCode,jdbcType=VARCHAR},
		#{legalPersonContact,jdbcType=VARCHAR}, #{agent,jdbcType=VARCHAR},
		#{agentIcCode,jdbcType=VARCHAR},
		#{agentContact,jdbcType=VARCHAR},
		#{contact,jdbcType=VARCHAR}, #{contactTitle,jdbcType=VARCHAR},
		#{contactIcCode,jdbcType=VARCHAR}, #{contactWay,jdbcType=VARCHAR},
		#{businessScope,jdbcType=VARCHAR},
		#{keySupplier,jdbcType=INTEGER},
		#{taxRate,jdbcType=DECIMAL}, #{inOutCity,jdbcType=VARCHAR},
		#{admissionDate,jdbcType=VARCHAR}, #{returnSupply,jdbcType=INTEGER},
		#{joinSite,jdbcType=VARCHAR},
		#{apartOrder,jdbcType=INTEGER},
		#{dropship,jdbcType=INTEGER})
	</insert>
	<insert id="insertSelective"
		parameterType="com.wangfj.product.supplier.domain.entity.PcmSupplyInfo"
		useGeneratedKeys="true" keyProperty="sid">
		insert into pcm_supply_info
		<trim prefix="(" suffix=")" suffixOverrides=",">
			<if test="sid != null">
				sid,
			</if>
			<if test="supplyName != null">
				supply_name,
			</if>
			<if test="postcode != null">
				postcode,
			</if>
			<if test="city != null">
				city,
			</if>
			<if test="country != null">
				country,
			</if>
			<if test="zone != null">
				zone,
			</if>
			<if test="shopRegion != null">
				shop_region,
			</if>
			<if test="address != null">
				address,
			</if>
			<if test="phone != null">
				phone,
			</if>
			<if test="fax != null">
				fax,
			</if>
			<if test="email != null">
				email,
			</if>
			<if test="lastOptUser != null">
				last_opt_user,
			</if>
			<if test="lastOptDate != null">
				last_opt_date,
			</if>
			<if test="shopSid != null">
				shop_sid,
			</if>
			<if test="supplyCode != null">
				supply_code,
			</if>
			<if test="supplyType != null">
				supply_type,
			</if>
			<if test="status != null">
				status,
			</if>
			<if test="shortName != null">
				short_name,
			</if>
			<if test="businessPattern != null">
				business_pattern,
			</if>
			<if test="street != null">
				street,
			</if>
			<if test="orgCode != null">
				org_code,
			</if>
			<if test="industry != null">
				industry,
			</if>
			<if test="bizCertificateNo != null">
				biz_certificate_no,
			</if>
			<if test="taxType != null">
				tax_type,
			</if>
			<if test="taxNumbe != null">
				tax_numbe,
			</if>
			<if test="bank != null">
				bank,
			</if>
			<if test="bankNo != null">
				bank_no,
			</if>
			<if test="registeredCapital != null">
				registered_capital,
			</if>
			<if test="enterpriseProperty != null">
				enterprise_property,
			</if>
			<if test="businessCategory != null">
				business_category,
			</if>
			<if test="legalPerson != null">
				legal_person,
			</if>
			<if test="legalPersonIcCode != null">
				legal_person_ic_code,
			</if>
			<if test="legalPersonContact != null">
				legal_person_contact,
			</if>
			<if test="agent != null">
				agent,
			</if>
			<if test="agentIcCode != null">
				agent_ic_code,
			</if>
			<if test="agentContact != null">
				agent_contact,
			</if>
			<if test="contact != null">
				contact,
			</if>
			<if test="contactTitle != null">
				contact_title,
			</if>
			<if test="contactIcCode != null">
				contact_ic_code,
			</if>
			<if test="contactWay != null">
				contact_way,
			</if>
			<if test="businessScope != null">
				business_scope,
			</if>
			<if test="keySupplier != null">
				key_supplier,
			</if>
			<if test="taxRate != null">
				tax_rate,
			</if>
			<if test="inOutCity != null">
				in_out_city,
			</if>
			<if test="admissionDate != null">
				admission_date,
			</if>
			<if test="returnSupply != null">
				return_supply,
			</if>
			<if test="joinSite != null">
				join_site,
			</if>
			<if test="apartOrder != null">
				apart_order,
			</if>
			<if test="dropship != null">
				dropship,
			</if>
			<if test="erpSupplierCode != null">
				erp_supplier_code,
			</if>
			<if test="zlyFlag != null">
				zly_flag,
			</if>
			<if test="zzxxhcFlag != null">
				zzxxhc_flag,
			</if>
			<if test="field1 != null">
				field1,
			</if>
			<if test="field2 != null">
				field2,
			</if>
			<if test="field3 != null">
				field3,
			</if>
		</trim>
		<trim prefix="values (" suffix=")" suffixOverrides=",">
			<if test="sid != null">
				#{sid,jdbcType=BIGINT},
			</if>
			<if test="supplyName != null">
				#{supplyName,jdbcType=VARCHAR},
			</if>
			<if test="postcode != null">
				#{postcode,jdbcType=VARCHAR},
			</if>
			<if test="city != null">
				#{city,jdbcType=VARCHAR},
			</if>
			<if test="country != null">
				#{country,jdbcType=VARCHAR},
			</if>
			<if test="zone != null">
				#{zone,jdbcType=VARCHAR},
			</if>
			<if test="shopRegion != null">
				#{shopRegion,jdbcType=VARCHAR},
			</if>
			<if test="address != null">
				#{address,jdbcType=VARCHAR},
			</if>
			<if test="phone != null">
				#{phone,jdbcType=VARCHAR},
			</if>
			<if test="fax != null">
				#{fax,jdbcType=VARCHAR},
			</if>
			<if test="email != null">
				#{email,jdbcType=VARCHAR},
			</if>
			<if test="lastOptUser != null">
				#{lastOptUser,jdbcType=VARCHAR},
			</if>
			<if test="lastOptDate != null">
				#{lastOptDate,jdbcType=TIMESTAMP},
			</if>
			<if test="shopSid != null">
				#{shopSid,jdbcType=VARCHAR},
			</if>
			<if test="supplyCode != null">
				#{supplyCode,jdbcType=VARCHAR},
			</if>
			<if test="supplyType != null">
				#{supplyType,jdbcType=INTEGER},
			</if>
			<if test="status != null">
				#{status,jdbcType=VARCHAR},
			</if>
			<if test="shortName != null">
				#{shortName,jdbcType=VARCHAR},
			</if>
			<if test="businessPattern != null">
				#{businessPattern,jdbcType=INTEGER},
			</if>
			<if test="street != null">
				#{street,jdbcType=VARCHAR},
			</if>
			<if test="orgCode != null">
				#{orgCode,jdbcType=VARCHAR},
			</if>
			<if test="industry != null">
				#{industry,jdbcType=VARCHAR},
			</if>
			<if test="bizCertificateNo != null">
				#{bizCertificateNo,jdbcType=VARCHAR},
			</if>
			<if test="taxType != null">
				#{taxType,jdbcType=VARCHAR},
			</if>
			<if test="taxNumbe != null">
				#{taxNumbe,jdbcType=VARCHAR},
			</if>
			<if test="bank != null">
				#{bank,jdbcType=VARCHAR},
			</if>
			<if test="bankNo != null">
				#{bankNo,jdbcType=VARCHAR},
			</if>
			<if test="registeredCapital != null">
				#{registeredCapital,jdbcType=VARCHAR},
			</if>
			<if test="enterpriseProperty != null">
				#{enterpriseProperty,jdbcType=VARCHAR},
			</if>
			<if test="businessCategory != null">
				#{businessCategory,jdbcType=VARCHAR},
			</if>
			<if test="legalPerson != null">
				#{legalPerson,jdbcType=VARCHAR},
			</if>
			<if test="legalPersonIcCode != null">
				#{legalPersonIcCode,jdbcType=VARCHAR},
			</if>
			<if test="legalPersonContact != null">
				#{legalPersonContact,jdbcType=VARCHAR},
			</if>
			<if test="agent != null">
				#{agent,jdbcType=VARCHAR},
			</if>
			<if test="agentIcCode != null">
				#{agentIcCode,jdbcType=VARCHAR},
			</if>
			<if test="agentContact != null">
				#{agentContact,jdbcType=VARCHAR},
			</if>
			<if test="contact != null">
				#{contact,jdbcType=VARCHAR},
			</if>
			<if test="contactTitle != null">
				#{contactTitle,jdbcType=VARCHAR},
			</if>
			<if test="contactIcCode != null">
				#{contactIcCode,jdbcType=VARCHAR},
			</if>
			<if test="contactWay != null">
				#{contactWay,jdbcType=VARCHAR},
			</if>
			<if test="businessScope != null">
				#{businessScope,jdbcType=VARCHAR},
			</if>
			<if test="keySupplier != null">
				#{keySupplier,jdbcType=INTEGER},
			</if>
			<if test="taxRate != null">
				#{taxRate,jdbcType=DECIMAL},
			</if>
			<if test="inOutCity != null">
				#{inOutCity,jdbcType=VARCHAR},
			</if>
			<if test="admissionDate != null">
				#{admissionDate,jdbcType=VARCHAR},
			</if>
			<if test="returnSupply != null">
				#{returnSupply,jdbcType=INTEGER},
			</if>
			<if test="joinSite != null">
				#{joinSite,jdbcType=VARCHAR},
			</if>
			<if test="apartOrder != null">
				#{apartOrder,jdbcType=INTEGER},
			</if>
			<if test="dropship != null">
				#{dropship,jdbcType=INTEGER},
			</if>
			<if test="erpSupplierCode != null">
				#{erpSupplierCode,jdbcType=VARCHAR},
			</if>
			<if test="zlyFlag != null">
				#{zlyFlag,jdbcType=VARCHAR},
			</if>
			<if test="zzxxhcFlag != null">
				#{zzxxhcFlag,jdbcType=VARCHAR},
			</if>
			<if test="field1 != null">
				#{field1,jdbcType=VARCHAR},
			</if>
			<if test="field2 != null">
				#{field2,jdbcType=VARCHAR},
			</if>
			<if test="field3 != null">
				#{field3,jdbcType=VARCHAR},
			</if>
		</trim>
	</insert>
	<update id="updateByPrimaryKeySelective"
		parameterType="com.wangfj.product.supplier.domain.entity.PcmSupplyInfo">
		update pcm_supply_info
		<set>
			<if test="supplyName != null">
				supply_name = #{supplyName,jdbcType=VARCHAR},
			</if>
			<if test="postcode != null">
				postcode = #{postcode,jdbcType=VARCHAR},
			</if>
			<if test="city != null">
				city = #{city,jdbcType=VARCHAR},
			</if>
			<if test="country != null">
				country = #{country,jdbcType=VARCHAR},
			</if>
			<if test="zone != null">
				zone = #{zone,jdbcType=VARCHAR},
			</if>
			<if test="shopRegion != null">
				shop_region = #{shopRegion,jdbcType=VARCHAR},
			</if>
			<if test="address != null">
				address = #{address,jdbcType=VARCHAR},
			</if>
			<if test="phone != null">
				phone = #{phone,jdbcType=VARCHAR},
			</if>
			<if test="fax != null">
				fax = #{fax,jdbcType=VARCHAR},
			</if>
			<if test="email != null">
				email = #{email,jdbcType=VARCHAR},
			</if>
			<if test="lastOptUser != null">
				last_opt_user = #{lastOptUser,jdbcType=VARCHAR},
			</if>
			<if test="lastOptDate != null">
				last_opt_date = #{lastOptDate,jdbcType=TIMESTAMP},
			</if>
			<if test="shopSid != null">
				shop_sid = #{shopSid,jdbcType=VARCHAR},
			</if>
			<if test="supplyCode != null">
				supply_code = #{supplyCode,jdbcType=VARCHAR},
			</if>
			<if test="supplyType != null">
				supply_type = #{supplyType,jdbcType=INTEGER},
			</if>
			<if test="status != null">
				status = #{status,jdbcType=VARCHAR},
			</if>
			<if test="shortName != null">
				short_name = #{shortName,jdbcType=VARCHAR},
			</if>
			<if test="businessPattern != null">
				business_pattern = #{businessPattern,jdbcType=INTEGER},
			</if>
			<if test="street != null">
				street = #{street,jdbcType=VARCHAR},
			</if>
			<if test="orgCode != null">
				org_code = #{orgCode,jdbcType=VARCHAR},
			</if>
			<if test="industry != null">
				industry = #{industry,jdbcType=VARCHAR},
			</if>
			<if test="bizCertificateNo != null">
				biz_certificate_no =
				#{bizCertificateNo,jdbcType=VARCHAR},
			</if>
			<if test="taxType != null">
				tax_type = #{taxType,jdbcType=VARCHAR},
			</if>
			<if test="taxNumbe != null">
				tax_numbe = #{taxNumbe,jdbcType=VARCHAR},
			</if>
			<if test="bank != null">
				bank = #{bank,jdbcType=VARCHAR},
			</if>
			<if test="bankNo != null">
				bank_no = #{bankNo,jdbcType=VARCHAR},
			</if>
			<if test="registeredCapital != null">
				registered_capital =
				#{registeredCapital,jdbcType=VARCHAR},
			</if>
			<if test="enterpriseProperty != null">
				enterprise_property =
				#{enterpriseProperty,jdbcType=VARCHAR},
			</if>
			<if test="businessCategory != null">
				business_category = #{businessCategory,jdbcType=VARCHAR},
			</if>
			<if test="legalPerson != null">
				legal_person = #{legalPerson,jdbcType=VARCHAR},
			</if>
			<if test="legalPersonIcCode != null">
				legal_person_ic_code =
				#{legalPersonIcCode,jdbcType=VARCHAR},
			</if>
			<if test="legalPersonContact != null">
				legal_person_contact =
				#{legalPersonContact,jdbcType=VARCHAR},
			</if>
			<if test="agent != null">
				agent = #{agent,jdbcType=VARCHAR},
			</if>
			<if test="agentIcCode != null">
				agent_ic_code = #{agentIcCode,jdbcType=VARCHAR},
			</if>
			<if test="agentContact != null">
				agent_contact = #{agentContact,jdbcType=VARCHAR},
			</if>
			<if test="contact != null">
				contact = #{contact,jdbcType=VARCHAR},
			</if>
			<if test="contactTitle != null">
				contact_title = #{contactTitle,jdbcType=VARCHAR},
			</if>
			<if test="contactIcCode != null">
				contact_ic_code = #{contactIcCode,jdbcType=VARCHAR},
			</if>
			<if test="contactWay != null">
				contact_way = #{contactWay,jdbcType=VARCHAR},
			</if>
			<if test="businessScope != null">
				business_scope = #{businessScope,jdbcType=VARCHAR},
			</if>
			<if test="keySupplier != null">
				key_supplier = #{keySupplier,jdbcType=INTEGER},
			</if>
			<if test="taxRate != null">
				tax_rate = #{taxRate,jdbcType=DECIMAL},
			</if>
			<if test="inOutCity != null">
				in_out_city = #{inOutCity,jdbcType=VARCHAR},
			</if>
			<if test="admissionDate != null">
				admission_date = #{admissionDate,jdbcType=VARCHAR},
			</if>
			<if test="returnSupply != null">
				return_supply = #{returnSupply,jdbcType=INTEGER},
			</if>
			<if test="joinSite != null">
				join_site = #{joinSite,jdbcType=VARCHAR},
			</if>
			<if test="apartOrder != null">
				apart_order = #{apartOrder,jdbcType=INTEGER},
			</if>
			<if test="dropship != null">
				dropship = #{dropship,jdbcType=INTEGER},
			</if>
			<if test="erpSupplierCode != null">
				erp_supplier_code=#{erpSupplierCode,jdbcType=VARCHAR},
			</if>
			<if test="zlyFlag != null">
				zly_flag=#{zlyFlag,jdbcType=VARCHAR},
			</if>
			<if test="zzxxhcFlag != null">
				zzxxhc_flag=#{zzxxhcFlag,jdbcType=VARCHAR},
			</if>
			<if test="field1 != null">
				field1=#{field1,jdbcType=VARCHAR},
			</if>
			<if test="field2 != null">
				field2=#{field2,jdbcType=VARCHAR},
			</if>
			<if test="field3 != null">
				field3=#{field3,jdbcType=VARCHAR},
			</if>
		</set>
		where sid = #{sid,jdbcType=BIGINT}
	</update>



	<update id="updateByPrimaryKey"
		parameterType="com.wangfj.product.supplier.domain.entity.PcmSupplyInfo">
		update pcm_supply_info
		set supply_name =
		#{supplyName,jdbcType=VARCHAR},
		postcode =
		#{postcode,jdbcType=VARCHAR},
		city = #{city,jdbcType=VARCHAR},
		country =
		#{country,jdbcType=VARCHAR},
		zone = #{zone,jdbcType=VARCHAR},
		shop_region = #{shopRegion,jdbcType=VARCHAR},
		address =
		#{address,jdbcType=VARCHAR},
		phone = #{phone,jdbcType=VARCHAR},
		fax =
		#{fax,jdbcType=VARCHAR},
		email = #{email,jdbcType=VARCHAR},
		last_opt_user = #{lastOptUser,jdbcType=VARCHAR},
		last_opt_date =
		#{lastOptDate,jdbcType=TIMESTAMP},
		shop_sid =
		#{shopSid,jdbcType=VARCHAR},
		supply_code =
		#{supplyCode,jdbcType=VARCHAR},
		supply_type =
		#{supplyType,jdbcType=INTEGER},
		status = #{status,jdbcType=VARCHAR},
		short_name = #{shortName,jdbcType=VARCHAR},
		business_pattern =
		#{businessPattern,jdbcType=INTEGER},
		street =
		#{street,jdbcType=VARCHAR},
		org_code = #{orgCode,jdbcType=VARCHAR},
		industry = #{industry,jdbcType=VARCHAR},
		biz_certificate_no =
		#{bizCertificateNo,jdbcType=VARCHAR},
		tax_type =
		#{taxType,jdbcType=VARCHAR},
		tax_numbe = #{taxNumbe,jdbcType=VARCHAR},
		bank = #{bank,jdbcType=VARCHAR},
		bank_no = #{bankNo,jdbcType=VARCHAR},
		registered_capital = #{registeredCapital,jdbcType=VARCHAR},
		enterprise_property = #{enterpriseProperty,jdbcType=VARCHAR},
		business_category = #{businessCategory,jdbcType=VARCHAR},
		legal_person
		= #{legalPerson,jdbcType=VARCHAR},
		legal_person_ic_code =
		#{legalPersonIcCode,jdbcType=VARCHAR},
		legal_person_contact =
		#{legalPersonContact,jdbcType=VARCHAR},
		agent =
		#{agent,jdbcType=VARCHAR},
		agent_ic_code =
		#{agentIcCode,jdbcType=VARCHAR},
		agent_contact =
		#{agentContact,jdbcType=VARCHAR},
		contact =
		#{contact,jdbcType=VARCHAR},
		contact_title =
		#{contactTitle,jdbcType=VARCHAR},
		contact_ic_code =
		#{contactIcCode,jdbcType=VARCHAR},
		contact_way =
		#{contactWay,jdbcType=VARCHAR},
		business_scope =
		#{businessScope,jdbcType=VARCHAR},
		key_supplier =
		#{keySupplier,jdbcType=INTEGER},
		tax_rate =
		#{taxRate,jdbcType=DECIMAL},
		in_out_city =
		#{inOutCity,jdbcType=VARCHAR},
		admission_date =
		#{admissionDate,jdbcType=VARCHAR},
		return_supply =
		#{returnSupply,jdbcType=INTEGER},
		join_site =
		#{joinSite,jdbcType=VARCHAR},
		apart_order =
		#{apartOrder,jdbcType=INTEGER},
		dropship = #{dropship,jdbcType=INTEGER}
		where sid = #{sid,jdbcType=BIGINT}
	</update>

	<!-- 根据编码修改信息 供应商上传updateBySupplyCodeSelective wangxuan -->
	<update id="updateBySupplyCodeSelective"
		parameterType="com.wangfj.product.supplier.domain.entity.PcmSupplyInfo">
		update pcm_supply_info
		<set>
			<if test="supplyName != null">
				supply_name = #{supplyName,jdbcType=VARCHAR},
			</if>
			<if test="postcode != null">
				postcode = #{postcode,jdbcType=VARCHAR},
			</if>
			<if test="city != null">
				city = #{city,jdbcType=VARCHAR},
			</if>
			<if test="country != null">
				country = #{country,jdbcType=VARCHAR},
			</if>
			<if test="zone != null">
				zone = #{zone,jdbcType=VARCHAR},
			</if>
			<if test="shopRegion != null">
				shop_region = #{shopRegion,jdbcType=VARCHAR},
			</if>
			<if test="address != null">
				address = #{address,jdbcType=VARCHAR},
			</if>
			<if test="phone != null">
				phone = #{phone,jdbcType=VARCHAR},
			</if>
			<if test="fax != null">
				fax = #{fax,jdbcType=VARCHAR},
			</if>
			<if test="email != null">
				email = #{email,jdbcType=VARCHAR},
			</if>
			<if test="lastOptUser != null">
				last_opt_user = #{lastOptUser,jdbcType=VARCHAR},
			</if>
			<if test="lastOptDate != null">
				last_opt_date = #{lastOptDate,jdbcType=TIMESTAMP},
			</if>
			<if test="supplyType != null">
				supply_type = #{supplyType,jdbcType=INTEGER},
			</if>
			<if test="status != null">
				status = #{status,jdbcType=VARCHAR},
			</if>
			<if test="shortName != null">
				short_name = #{shortName,jdbcType=VARCHAR},
			</if>
			<if test="businessPattern != null">
				business_pattern = #{businessPattern,jdbcType=INTEGER},
			</if>
			<if test="street != null">
				street = #{street,jdbcType=VARCHAR},
			</if>
			<if test="orgCode != null">
				org_code = #{orgCode,jdbcType=VARCHAR},
			</if>
			<if test="industry != null">
				industry = #{industry,jdbcType=VARCHAR},
			</if>
			<if test="bizCertificateNo != null">
				biz_certificate_no =
				#{bizCertificateNo,jdbcType=VARCHAR},
			</if>
			<if test="taxType != null">
				tax_type = #{taxType,jdbcType=VARCHAR},
			</if>
			<if test="taxNumbe != null">
				tax_numbe = #{taxNumbe,jdbcType=VARCHAR},
			</if>
			<if test="bank != null">
				bank = #{bank,jdbcType=VARCHAR},
			</if>
			<if test="bankNo != null">
				bank_no = #{bankNo,jdbcType=VARCHAR},
			</if>
			<if test="registeredCapital != null">
				registered_capital =
				#{registeredCapital,jdbcType=VARCHAR},
			</if>
			<if test="enterpriseProperty != null">
				enterprise_property =
				#{enterpriseProperty,jdbcType=VARCHAR},
			</if>
			<if test="businessCategory != null">
				business_category = #{businessCategory,jdbcType=VARCHAR},
			</if>
			<if test="legalPerson != null">
				legal_person = #{legalPerson,jdbcType=VARCHAR},
			</if>
			<if test="legalPersonIcCode != null">
				legal_person_ic_code =
				#{legalPersonIcCode,jdbcType=VARCHAR},
			</if>
			<if test="legalPersonContact != null">
				legal_person_contact =
				#{legalPersonContact,jdbcType=VARCHAR},
			</if>
			<if test="agent != null">
				agent = #{agent,jdbcType=VARCHAR},
			</if>
			<if test="agentIcCode != null">
				agent_ic_code = #{agentIcCode,jdbcType=VARCHAR},
			</if>
			<if test="agentContact != null">
				agent_contact = #{agentContact,jdbcType=VARCHAR},
			</if>
			<if test="contact != null">
				contact = #{contact,jdbcType=VARCHAR},
			</if>
			<if test="contactTitle != null">
				contact_title = #{contactTitle,jdbcType=VARCHAR},
			</if>
			<if test="contactIcCode != null">
				contact_ic_code = #{contactIcCode,jdbcType=VARCHAR},
			</if>
			<if test="contactWay != null">
				contact_way = #{contactWay,jdbcType=VARCHAR},
			</if>
			<if test="businessScope != null">
				business_scope = #{businessScope,jdbcType=VARCHAR},
			</if>
			<if test="keySupplier != null">
				key_supplier = #{keySupplier,jdbcType=INTEGER},
			</if>
			<if test="taxRate != null">
				tax_rate = #{taxRate,jdbcType=DECIMAL},
			</if>
			<if test="inOutCity != null">
				in_out_city = #{inOutCity,jdbcType=VARCHAR},
			</if>
			<if test="admissionDate != null">
				admission_date = #{admissionDate,jdbcType=VARCHAR},
			</if>
			<if test="returnSupply != null">
				return_supply = #{returnSupply,jdbcType=INTEGER},
			</if>
			<if test="joinSite != null">
				join_site = #{joinSite,jdbcType=VARCHAR},
			</if>
			<if test="apartOrder != null">
				apart_order = #{apartOrder,jdbcType=INTEGER},
			</if>
			<if test="dropship != null">
				dropship = #{dropship,jdbcType=INTEGER},
			</if>
			<if test="erpSupplierCode != null">
				erp_supplier_code=#{erpSupplierCode,jdbcType=VARCHAR},
			</if>
		</set>
		where supply_code = #{supplyCode,jdbcType=VARCHAR}
		and shop_sid =
		#{shopSid,jdbcType=VARCHAR}
	</update>


	<!-- 一品多供应商关系上传 查询供应商信息 wangxuan -->
	<select id="selectSupplyByShopCodeAndSupplyCode" resultMap="BaseResultMap"
		parameterType="java.util.Map">
		select
		<include refid="Base_Column_List" />
		from pcm_supply_info
		<where>
			<if test="shopSid != null">
				and shop_sid=#{shopSid,jdbcType=VARCHAR}
			</if>
			<if test="supplyCode != null">
				and supply_code=#{supplyCode,jdbcType=VARCHAR}
			</if>
		</where>
	</select>

	<!-- 导入终端 selectListByParamForData wangxuan -->
	<select id="selectListByParamForData" resultMap="BaseResultMap"
		parameterType="java.util.Map">
		select
		<include refid="Base_Column_List" />
		from pcm_supply_info
		<where>
			<if test="shopSid != null">
				and shop_sid=#{shopSid,jdbcType=VARCHAR}
			</if>
			<if test="supplyCode != null">
				and supply_code=#{supplyCode,jdbcType=VARCHAR}
			</if>
		</where>
	</select>

	<!-- 移动工作台调用主数据获取供应商信息 selectListByParamForPad wangxuan -->
	<select id="selectListByParamForPad" resultMap="BaseResultMap"
		parameterType="java.util.Map">
		select
		<include refid="Base_Column_List" />
		from pcm_supply_info
		<where>
			<if test="shopSid != null">
				and shop_sid=#{shopSid,jdbcType=VARCHAR}
			</if>
			<if test="supplyCode != null">
				and supply_code=#{supplyCode,jdbcType=VARCHAR}
			</if>
		</where>
	</select>

	<!-- pushPageSupplyInfo供应商信息下发（全量） 分页查询 wangxuan -->
	<select id="pushPageSupplyInfo" resultMap="BaseResultMap"
		parameterType="java.util.Map">
		select
		<include refid="Base_Column_List" />
		from pcm_supply_info
		<if test="start != null and  limit != null">
			limit #{start}, #{limit}
		</if>
	</select>

	<!-- pushSupplyInfo供应商信息下发(增量) wangxuan -->
	<select id="pushSupplyInfo" resultMap="BaseResultMap"
		parameterType="java.lang.Long">
		select
		<include refid="Base_Column_List" />
		from pcm_supply_info
		<where>
			<if test="sid != null">
				and sid = #{sid}
			</if>
			<if test="shopSid != null">
				and shop_sid=#{shopSid}
			</if>
			<if test="supplyCode != null">
				and supply_code=#{supplyCode}
			</if>
		</where>
	</select>

	<select id="findListSupplier"
		parameterType="com.wangfj.product.supplier.domain.vo.PcmSupplyInfoQueryDto"
		resultType="com.wangfj.product.supplier.domain.vo.PcmSupplyInfoPartDto">
		SELECT
		DISTINCT psi.sid AS sid,
		psi.supply_code AS supplyCode,
		psi.supply_name AS supplyName,
		psi.shop_sid AS shopCode,
		psi.business_pattern AS businessPattern,
		psi.supply_type AS supplyType,
		psi.status AS status
		FROM
		pcm_supply_info psi
		<where>
			<if test="sid != null and sid != ''">
				and psi.sid = #{sid}
			</if>
			<if test="supplyName != null and supplyName != ''">
				and psi.supply_name like CONCAT("%",#{supplyName},"%")
			</if>
			<if test="shopCode != null and shopCode != ''">
				and (psi.shop_sid = #{shopCode} or psi.supply_name = 'WFJ')
			</if>
			<if test="supplyCode != null and supplyCode != ''">
				and psi.supply_code = #{supplyCode}
			</if>
			<if test="supplyType != null and supplyType != ''">
				and psi.supply_type = #{supplyType}
			</if>
			<if test="status != null and status != ''">
				and psi.status = #{status}
			</if>
			<if test="apartOrder != null and apartOrder != ''">
				and psi.apart_order = #{apartOrder}
			</if>
		</where>
		ORDER BY CONVERT(psi.supply_name USING gbk)
		<if test="start != null and limit != null">
			LIMIT #{start},#{limit}
		</if>
	</select>

	<select id="findListSupplierByShoppeParam"
		parameterType="com.wangfj.product.supplier.domain.vo.PcmSupplyInfoQueryDto"
		resultType="com.wangfj.product.supplier.domain.vo.PcmSupplyInfoResultDto">
		SELECT
		psi.sid AS sid,
		po.organization_code AS shopCode,
		ps.sid AS
		shoppeSid,
		ps.shoppe_code AS shoppeCode,
		ps.shoppe_name AS shoppeName,
		psi.sid AS
		supplySid,
		psi.supply_code AS supplyCode,
		psi.supply_name AS
		supplyName,
		psi.business_pattern AS businessPattern,
		psi.supply_type AS
		supplyType,
		psi.status AS status
		FROM
		pcm_shoppe ps
		INNER JOIN
		pcm_organization po ON
		ps.shop_sid = po.sid
		AND
		po.organization_type =
		3
		AND
		po.organization_status = 0
		INNER JOIN
		pcm_supply_shoppe_relation
		pssr
		ON
		ps.sid = pssr.shoppe_sid
		AND
		pssr.status = 0
		INNER JOIN pcm_supply_info
		psi ON pssr.supply_sid =
		psi.sid
		<where>
			<if test="sid != null and sid != ''">
				and psi.sid = #{sid}
			</if>
			<if test="supplyName != null and supplyName != ''">
				and psi.supply_name like CONCAT("%",#{supplyName},"%")
			</if>
			<if test="shopCode != null and shopCode != ''">
				and po.organization_code = #{shopCode}
			</if>
			<if test="shopSid != null and shopSid != ''">
				and po.sid = #{shopSid}
			</if>
			<if test="supplyCode != null and supplyCode != ''">
				and psi.supply_code = #{supplyCode}
			</if>
			<if test="supplyType != null and supplyType != ''">
				and psi.supply_type = #{supplyType}
			</if>
			<if test="status != null and status != ''">
				and psi.status = #{status}
			</if>
			<if test="shoppeSid != null and shoppeSid != ''">
				and ps.sid = #{shoppeSid}
			</if>
			<if test="shoppeCode != null and shoppeCode != ''">
				and ps.shoppe_code = #{shoppeCode}
			</if>
		</where>
	</select>
    <!-- 根据门店编码及管理分类编码获取供应商编码 -->
	<select id="getSupCodeFromPcmByShopCode"
	parameterType="java.util.Map"
		resultType="com.wangfj.product.supplier.domain.vo.GetSupCodeResultDto">
		SELECT
		clog1.store_code AS shopCode,
		sup.supply_code AS supplierCode,
		sup.supply_name AS supplierName,
		sup.supply_type AS supplierType,
		sup.business_pattern AS manageType,
		sup.zly_flag AS zlyFlag,
		clog1.col1 AS manageCategoryCode
		FROM
		(
		SELECT DISTINCT
		supply_code,
		store_code,
		col1
		FROM
		pcm_contract_log clog
		<where>
		<if test="shopCodeList != null">
			<foreach collection="shopCodeList" item="shopCode" index="index"
				open="(" separator=")OR(" close=")">
				<if test="shopCode.shopCode != null">
					clog.store_code = #{shopCode.shopCode,jdbcType=VARCHAR}
				</if>
				<if test="shopCode.managerList != null">
				    AND clog.col1 IN
				    <foreach collection="shopCode.managerList" item="manager" index="index"
				    open="(" separator="," close=")">
					#{manager.manager,jdbcType=VARCHAR}
					</foreach>
				</if>
				<if test="shopCode.manageType != null">
				    AND clog.manage_type = #{shopCode.manageType,jdbcType=VARCHAR}
				</if>
			</foreach>
		</if>
	    </where>
		) clog1
		INNER JOIN pcm_supply_info sup ON clog1.supply_code = sup.supply_code
		<if test="zlyFlag != null">
		  AND sup.zly_flag = #{zlyFlag,jdbcType=VARCHAR}
		</if>
    </select>
    
    
	<select id="getSupInfoFromPcmByLicenseNoAndTaxNo" parameterType="java.util.Map"
	resultType="com.wangfj.product.supplier.domain.vo.PcmSupInfoForSupResultDto">
	SELECT sup.supply_code AS supplyCode,
	sup.supply_name AS supplyName,
	sup.shop_sid AS storeCode,
	sup.business_pattern AS operaterMode,
	sup.apart_order AS apartOrder,
	sup.`status` AS supplyStatus,
	sup.biz_certificate_no AS licenseNo,
	sup.tax_numbe AS taxNo
	FROM pcm_supply_info sup
	<where>
		<if test="licenseNo != null">
			AND sup.biz_certificate_no = #{licenseNo,jdbcType=VARCHAR}
		</if>
		<if test="taxNo != null">
			AND sup.tax_numbe = #{taxNo,jdbcType=VARCHAR}
		</if>
	</where>
    </select>
<!--     根据营业执照号及税号获取供应商信息 返回结果修改 -->
    <select id="getSupInfoFromPcmByLicenseNoAndTaxNoT" parameterType="java.util.Map"
	resultMap="supInfoForSup">
	SELECT sup.supply_code AS supplyCode,
	sup.supply_name AS supplyName,
	sup.shop_sid AS storeCode,
	org.organization_name AS storeName,
	sup.business_pattern AS operaterMode,
	IFNULL(sup.apart_order,"") AS apartOrder,
	sup.`status` AS supplyStatus,
	sup.biz_certificate_no AS licenseNo,
	sup.tax_numbe AS taxNo
	FROM pcm_supply_info sup inner join pcm_organization org on org.organization_code = sup.shop_sid
	<where>
		<if test="licenseNo != null">
			AND sup.biz_certificate_no = #{licenseNo,jdbcType=VARCHAR}
		</if>
		<if test="taxNo != null">
			AND sup.tax_numbe = #{taxNo,jdbcType=VARCHAR}
		</if>
	</where>
    </select>
</mapper>